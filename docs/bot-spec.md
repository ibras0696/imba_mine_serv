# –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram-–±–æ—Ç–∞

## 1. –¶–µ–ª—å

–°–¥–µ–ª–∞—Ç—å –ª—ë–≥–∫–∏–π Telegram-–±–æ—Ç (Python + aiogram 3.x), —á—Ç–æ–±—ã –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–≥ —É–ø—Ä–∞–≤–ª—è—Ç—å Forge-—Å–µ—Ä–≤–µ—Ä–æ–º –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ —à–µ–ª–ª—É: —Å—Ç–∞—Ä—Ç/—Å—Ç–æ–ø/—Ä–µ—Å—Ç–∞—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤, –ø—Ä–∞–≤–∫–∞ `.env`, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–º–∏/–±—ç–∫–∞–ø–∞–º–∏ –∏ –±—ã—Å—Ç—Ä—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ inline-–∫–Ω–æ–ø–∫–∏, –ø—Ä–∏ —ç—Ç–æ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –æ—Å—Ç–∞—é—Ç—Å—è –¥–ª—è power users.

## 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **–î–æ—Å—Ç—É–ø** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –±–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ Telegram ID (–≤ `.env.bot` —á–µ—Ä–µ–∑ `TELEGRAM_ADMINS`). –†–æ–ª–µ–π –Ω–µ—Ç: –ª–∏–±–æ –≤–ª–∞–¥–µ–ª–µ—Ü, –ª–∏–±–æ –æ—Ç–∫–∞–∑.
2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–º** ‚Äî `/up`, `/down`, `/restart`, `/ps`, `/logs` –∑–∞–ø—É—Å–∫–∞—é—Ç `make`/`docker compose` –≤ `/root/imba_mine_serv`. –î–ª—è –¥–µ–π—Å—Ç–≤–∏–π ‚Äî inline-–∫–Ω–æ–ø–∫–∏:
   - –û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é: `üü¢ Up`, `üî¥ Down`, `‚ôªÔ∏è Restart`, `üìä Status`, `üìú Logs (tail 100)`, `üßπ Clean`.
   - –û–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (down/restart/clean) –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∞–º–∏ ¬´‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å¬ª + ¬´‚ùå –û—Ç–º–µ–Ω–∞¬ª.
3. **–°—Ç–∞—Ç—É—Å** ‚Äî `/status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ (`docker compose ps`), —á–∏—Å–ª–æ –∏–≥—Ä–æ–∫–æ–≤ (`rcon-cli list` –∏–ª–∏ `mc-monitor status`), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ RAM JVM (–ø–∞—Ä—Å–∏–Ω–≥ `docker stats` / `mc-monitor`). –û—Ç–¥–∞—ë—Ç—Å—è —Ç–µ–∫—Å—Ç–æ–º + –∫–Ω–æ–ø–∫–∏ (`üîÉ –û–±–Ω–æ–≤–∏—Ç—å`, `‚¨ÖÔ∏è –ù–∞–∑–∞–¥`).
4. **–õ–æ–≥–∏** ‚Äî `/logs 100` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ ¬´üìú Logs¬ª –≤—ã–∑—ã–≤–∞–µ—Ç `docker compose logs -n N`. –î–ª–∏–Ω–Ω—ã–µ –ª–æ–≥–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Ñ–∞–π–ª–æ–º. –ù—É–∂–µ–Ω inline-—Å–µ–ª–µ–∫—Ç–æ—Ä (`Logs 50`, `Logs 200`).
5. **OP-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç** ‚Äî `/op nickname`, `/deop nickname`, –ø–ª—é—Å —à–æ—Ä—Ç–∫–∞—Ç—ã ¬´–û–ü–Ω—É—Ç—å ibrass¬ª, ¬´–°–Ω—è—Ç—å ibrass¬ª. –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –∏–¥—É—Ç —á–µ—Ä–µ–∑ `docker exec forge-server rcon-cli`.
6. **–ü—Ä–∞–≤–∫–∞ `.env`** ‚Äî `/env get KEY`, `/env set KEY VALUE` (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º). –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –∫–Ω–æ–ø–∫–∏ ¬´‚ôªÔ∏è –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å¬ª –∏–ª–∏ ¬´‚ùå –û—Ç–º–µ–Ω–∞¬ª. –í—Å–µ–≥–¥–∞ –¥–µ–ª–∞—Ç—å –±—ç–∫–∞–ø (`.bak` —Å —Ç–∞–π–º—Å—Ç–∞–º–ø–æ–º).
7. **–ú–æ–¥—ã** ‚Äî `/mods server`, `/mods client` —á–∏—Ç–∞—é—Ç `docs/modpack.md` –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–∞–±–ª–∏—Ü—ã. –ö–Ω–æ–ø–∫–∞ ¬´üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥¬ª –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `.jar`, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `ts_mods/inbox` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å. –î–æ–ø. –∫–Ω–æ–ø–∫–∞ ¬´üì¶ –°–ø–∏—Å–æ–∫ –Ω–æ–≤—ã—Ö jar¬ª.
8. **–ë—ç–∫–∞–ø—ã** ‚Äî `/backup now` (–∫–Ω–æ–ø–∫–∞ ¬´–°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø¬ª) –≤—ã–ø–æ–ª–Ω—è–µ—Ç `make backup` (–ø–æ—è–≤–∏—Ç—Å—è –ø–æ–∑–∂–µ). –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—É—Ç—å/—Å—Å—ã–ª–∫—É. –ü–æ–∑–∂–µ –¥–æ–±–∞–≤–∏—Ç—å `/backup list`.
9. **–ü–æ–¥–ø–∏—Å–∫–∏** ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ ¬´üîî –ö—Ä–∞—à-–∞–ª–µ—Ä—Ç—ã¬ª, ¬´üë• Join/Leave¬ª. –ù–æ—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç `logs/latest.log` (async) –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è.
10. **–ü–æ–∏—Å–∫/–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–æ–≤** ‚Äî –∫–Ω–æ–ø–∫–∞ ¬´üîé –ù–∞–π—Ç–∏ –º–æ–¥¬ª:
    - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç ‚Üí –ø–æ–∏—Å–∫ –ø–æ Modrinth API (–æ—Å–Ω–æ–≤–Ω–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫);
    - —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∫–Ω–æ–ø–∫–∞–º–∏ `‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å`, `‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å`, `üîó –°—Å—ã–ª–∫–∞`;
    - –µ—Å–ª–∏ Modrinth –Ω–µ –Ω–∞—à—ë–ª –∏–ª–∏ –¥–∞–ª–∏ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É (Modrinth/CurseForge), –±–æ—Ç —Å–∫–∞—á–∏–≤–∞–µ—Ç —á–µ—Ä–µ–∑ `curl/wget` –≤ `mods/server` (–∏–ª–∏ staging) –∏ —Å–æ–æ–±—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å + –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç `.jar` –∏–≥—Ä–æ–∫–∞–º;
    - –±–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –ø–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º (`server_side`) –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞–µ—Ç, –µ—Å–ª–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ;
    - –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–¥ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `mods/sources/server-mods.txt` (–∏–ª–∏ JSON) —Å –¥–∞—Ç–æ–π/–≤–µ—Ä—Å–∏–µ–π.
11. **Git/Deploy** ‚Äî –∫–Ω–æ–ø–∫–∞ ¬´‚¨áÔ∏è Pull & Restart¬ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç `git pull`, `make up` —Å –¥–≤–æ–π–Ω—ã–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º.

## 3. UI & UX

- –í—Å–µ –≤–∞–∂–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏–º–µ—é—Ç inline-–∫–Ω–æ–ø–∫–∏; reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (¬´–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é¬ª, ¬´–û—Ç–º–µ–Ω–∞¬ª).
- –§–æ—Ä–º–∞—Ç callback-data: `action=restart`, `action=logs:100`, `action=env_set:key`. –ö–æ—Ä–æ—Ç–∫–æ (<64 –±–∞–π—Ç).
- –î–ª—è –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (`/env set`, `/mods upload`) –Ω—É–∂–µ–Ω FSM (aiogram) –∏–ª–∏ –ø—Ä–æ—Å—Ç–∞—è state-map –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
bot/
  main.py               # entrypoint aiogram, —Ä–æ—É—Ç–µ—Ä—ã
  config.py             # –∑–∞–≥—Ä—É–∑–∫–∞ .env.bot, —Ç–æ–∫–µ–Ω—ã/ID
  keyboards.py          # inline/reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
  handlers/
     menu.py            # /start, –Ω–∞–≤–∏–≥–∞—Ü–∏—è
     status.py          # /status, /ps
     control.py         # up/down/restart/logs
     env.py             # get/set env
     mods.py            # —Å–ø–∏—Å–æ–∫/–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–æ–≤
     ops.py             # op/deop
     backup.py          # –±—ç–∫–∞–ø—ã
  services/
     shell.py           # async –∑–∞–ø—É—Å–∫ make/docker
     rcon.py            # –æ–±—ë—Ä—Ç–∫–∞ rcon-cli
     env_file.py        # —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å env + –±—ç–∫–∞–ø—ã
     modpack.py         # –ø–∞—Ä—Å–µ—Ä docs/modpack.md
     notifier.py        # tail –ª–æ–≥–æ–≤ + –ø–æ–¥–ø–∏—Å–∫–∏
     ssh_fallback.py    # plink/ssh fallback (—Å–º. –ø.7)
  data/
     bot.log
     state.sqlite       # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
  README.md             # –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
```

- –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–º –∂–µ VPS (`/root/imba_mine_serv`) —á–µ—Ä–µ–∑ systemd `/etc/systemd/system/imba-bot.service`.
- –ö–æ–º–∞–Ω–¥—ã –¥–æ–ª–∂–Ω—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (`asyncio.create_subprocess_shell`), —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å event loop.
- –î–æ–ª–≥–∏–µ –∑–∞–¥–∞—á–∏ (tail –ª–æ–≥–æ–≤, –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä) –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–∞–∫ —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ shutdown.

## 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –í—Å–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `bot/data/bot.log` (–≤—Ä–µ–º—è, Telegram ID, –∫–æ–º–∞–Ω–¥–∞, exit code).
- –ü–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º `.env` —Å–æ–∑–¥–∞–≤–∞—Ç—å –±—ç–∫–∞–ø (`*.bak`).
- –†–µ–π—Ç-–ª–∏–º–∏—Ç: –Ω–µ –±–æ–ª–µ–µ 5 –æ–ø–∞—Å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –º–∏–Ω—É—Ç—É.
- `/shell` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–µ—â—ë–Ω; —Ç–æ–ª—å–∫–æ –∂—ë—Å—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
- `.env.bot` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è (–≤ `.gitignore`).

## 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî in-memory (–ø–æ–¥–ø–∏—Å–∫–∏, –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π).
- –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å ‚Äî `sqlite3` —á–µ—Ä–µ–∑ `aiosqlite`:
  ```
  subscriptions(user_id INTEGER PRIMARY KEY,
                crashes BOOLEAN,
                joins BOOLEAN)
  ```
- –í–Ω–µ—à–Ω—è—è –ë–î –Ω–µ –Ω—É–∂–Ω–∞.

## 7. –°–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥

1. **–õ–æ–∫–∞–ª—å–Ω–æ** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø—É—Ç—å: –∫–æ–º–∞–Ω–¥—ã `make` –∏ `docker compose` –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ VPS (–±–æ—Ç –∂–∏–≤—ë—Ç —Ç–∞–º –∂–µ).
2. **Dry-run** ‚Äî `BOT_DRY_RUN=1` –≤ `.env.bot` –ª–æ–≥–∏—Ä—É–µ—Ç –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ (–ø–æ–ª–µ–∑–Ω–æ –Ω–∞ –Ω–æ—É—Ç–±—É–∫–µ –±–µ–∑ Docker).
3. **SSH fallback** ‚Äî –µ—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (Windows), –æ–Ω –¥–æ–ª–∂–µ–Ω —É–º–µ—Ç—å –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –ø–æ SSH/Plink:
   - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `PLINK_PATH` –∏ `SSH_HOST` –∏–∑ `.env.bot`;
   - –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è local –∏–ª–∏ remote (`BOT_REMOTE=1`);
   - —à–∞–±–ª–æ–Ω—ã –∫–æ–º–∞–Ω–¥ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—â–∏–º–∏ (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏).

## 8. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- –ù–æ—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç `/root/imba_mine_serv/logs/latest.log` (–∏–ª–∏ `journalctl -fu imba-mine.service`).
- –ü—Ä–∏ –∫—Ä–µ—à–µ/–ø–∞—Ç—Ç–µ—Ä–Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–∞–º–∏:
  - ¬´üìú –õ–æ–≥ (50 —Å—Ç—Ä–æ–∫)¬ª ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏.
  - ¬´üîÉ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å¬ª ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ.
- Join/Leave: –ø–∞—Ä—Å–∏—Ç—å —Å—Ç—Ä–æ–∫–∏ `logged in` / `left the game`, —Ñ–æ—Ä–º–∞—Ç `üë§ <nick> –≤–æ—à—ë–ª`.

## 9. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–µ–ø–ª–æ—é

1. –î–æ–±–∞–≤–∏—Ç—å `make bot-install`, `make bot-run`, `make bot-service` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π Makefile.
2. –î–µ—Ä–∂–∞—Ç—å `docs/bot-spec.md` –∏ –¥–æ–ø–∏—Å–∞—Ç—å `docs/deploy-linux.md` —à–∞–≥–∞–º–∏ –¥–µ–ø–ª–æ—è –±–æ—Ç–∞.
3. –ü—Ä–∏–º–µ—Ä systemd unit:
   ```
   [Unit]
   Description=Imba Telegram Bot
   After=network-online.target docker.service

   [Service]
   WorkingDirectory=/root/imba_mine_serv
   ExecStart=/root/imba_mine_serv/.venv/bin/python -m bot.main
   EnvironmentFile=/root/imba_mine_serv/.env.bot
   Restart=on-failure

   [Install]
   WantedBy=multi-user.target
   ```

## 10. –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞

| –°–ø—Ä–∏–Ω—Ç | –°–∫–æ—É–ø |
|--------|-------|
| 1 | –ö–∞—Ä–∫–∞—Å (`bot/`), `.env.bot`, `/start`, `/help`, `/status`, –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é. |
| 2 | `/up`, `/down`, `/restart`, `/logs`, `/ps`, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, dry-run. |
| 3 | `/op`, `/deop`, `/env get/set` + –±—ç–∫–∞–ø—ã. |
| 4 | –õ–∏—Å—Ç—ã –º–æ–¥–æ–≤/–∑–∞–≥—Ä—É–∑–∫–∞, –ø–æ–∏—Å–∫ –∏ –ø–∞—Ä—Å–µ—Ä –º–æ–¥–æ–≤, –±—ç–∫–∞–ø—ã, –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. |
| 5 | –ü–æ–¥–ø–∏—Å–∫–∏ (–∫—Ä–∞—à, join/leave), tail-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, Git/Deploy –∫–Ω–æ–ø–∫–∏. |
| 6 | –ü–æ–ª–∏—Ä–æ–≤–∫–∞: README, systemd unit, SSH/dry-run QA, —Ç–µ—Å—Ç—ã. |

## 11. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ dry-run

- –ö–∞–∂–¥—ã–π handler –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å unit-—Ç–µ—Å—Ç—ã –Ω–∞ –ø–∞—Ä—Å–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (pytest).
- `BOT_DRY_RUN=1` –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑ Docker.
- –†—É—á–Ω–æ–π QA: –∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ –≤ dry-run, –Ω–∞–∂–∞—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏.

## 12. –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û–±–Ω–æ–≤–∏—Ç—å README –∏ —É–ø–æ–º—è–Ω—É—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞ –∏ inline‚Äë—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ.
2. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å `bot/requirements.txt`, —Å–∫–µ–ª–µ—Ç –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Sprint 1.
3. –î–ª—è –¥–µ–ø–ª–æ—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `make bot-install`/`make bot-service` –∏ –≤–∫–ª—é—á–∏—Ç—å systemd‚Äë—Å–µ—Ä–≤–∏—Å.
